apiVersion: v1
kind: Secret
metadata:
  name: alertmanager-secret
  labels:
    app: alertmanager
    component: monitoring
type: Opaque
stringData:
  # PagerDuty Integration Key
  # To configure:
  # 1. Go to PagerDuty → Services → Create Service
  # 2. Integration Type: Events API v2
  # 3. Copy the Integration Key
  # 4. Replace placeholder below with actual key
  pagerduty-integration-key: "PAGERDUTY_INTEGRATION_KEY_PLACEHOLDER"
  
  # Slack Webhook URL
  # To configure:
  # 1. Go to https://api.slack.com/apps
  # 2. Create New App → From Scratch
  # 3. Enable Incoming Webhooks
  # 4. Add New Webhook to Workspace
  # 5. Copy Webhook URL
  # 6. Replace placeholder below with actual URL
  slack-webhook-url: "https://hooks.slack.com/services/SLACK_WEBHOOK_URL_PLACEHOLDER"
  
  # SMTP Password for Email Alerts
  # To configure:
  # 1. Setup SMTP credentials with your email provider
  # 2. Replace placeholder below with actual password
  # 3. Update smtp_smarthost and smtp_auth_username in alertmanager-configmap.yaml
  smtp-password: "SMTP_PASSWORD_PLACEHOLDER"

---
# PRODUCTION SETUP INSTRUCTIONS:
#
# For production environments, DO NOT commit actual secrets to Git.
# Instead, use one of the following methods:
#
# Method 1: AWS Secrets Manager (Recommended)
# 1. Create secrets in AWS Secrets Manager:
#    aws secretsmanager create-secret \
#      --name ghost-protocol/alertmanager/pagerduty-key \
#      --secret-string "your-actual-key"
# 2. Use External Secrets Operator to sync to Kubernetes
#
# Method 2: Sealed Secrets
# 1. Install sealed-secrets controller
# 2. Create sealed secret:
#    kubectl create secret generic alertmanager-secret \
#      --from-literal=pagerduty-integration-key=your-key \
#      --dry-run=client -o yaml | \
#      kubeseal -o yaml > alertmanager-sealed-secret.yaml
#
# Method 3: Manual kubectl (Development Only)
# kubectl create secret generic alertmanager-secret \
#   --from-literal=pagerduty-integration-key=your-key \
#   --from-literal=slack-webhook-url=your-webhook \
#   --from-literal=smtp-password=your-password \
#   -n ghost-protocol-monitoring
